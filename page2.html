<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>General Knowledge</title>
    <link rel="stylesheet" href="style.css">
    <link rel="website icon" type="jpg" href="logo.jpg">
    <style>
       .quiz-box, .main1{
        overflow: visible; 
       
       }
        .main1{
            color: white;
            position: relative;
            
            height: 100px;
            background: transparent;
            /* border: 2px solid violet; */
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            padding: 20px 30px;
            margin: 300px;
            justify-content: center;
            z-index: 100;
            transition: .1s ease;
        }
    .main1 .quiz-box{
        position: relative;
        
        width: 500px;
        background:transparent;
        border:2px solid violet;
        border-radius: 6px;
        display: flex;
        flex-direction: column;
        padding: 20px 30px;
        /* opacity: 0; */
        /* pointer-events: none; */
        transform: scale(.9);
        z-index: 1;
        transition: .3s ease;
          transition-delay: 0s;
    
    }
    .main1 .quiz-box.active {
          opacity: 1;
          pointer-events: auto;
          transform: scale(1);
          transition: 1s ease;
          transition-delay: 1s;
        }  
    .main1 h1{
        font-size: 32px;
        text-align: center;
        background: linear-gradient(45deg, transparent,violet,transparent);
        border-radius: 6px;
}
  .quiz-box .quiz-header{
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding:20px 0;
    border-bottom: 2px solid violet;
    margin-bottom: 26px;
  }
  .quiz-header span{
    font-size: 20px;
    font-weight: 500;
  }
  .quiz-header .header-score{
    background: rgb(238, 130, 238,.3);
    border-radius: 3px;
    padding: 7px;
    font-weight: bolder;
  }
  .quiz-box .question-text{
    font-size: 24px;
    font-weight: 600;
}
.option-list .option{
    width: 100%;
    padding: 12px;
    background: transparent;
    border: 2px solid rgba(255,255,255,.2);
    border-radius: 4px;
    font-size: 17px;
    margin: 15px 0;
    cursor: pointer;
    transition: .3s;

}
 .option-list .option:hover{
    background: rgba(255,255,255,.1);
    border-color: rgba(255,255,255,.1);
 }
 .option-list .option.correct{
  color:rgb(58, 209, 58) ;
  border-color: rgb(104, 233, 108);
 }
 .option-list .option.incorrect{
  color:red ;
  border-color: rgb(243, 66, 66);
 }
 .option-list .option.disabled{
  pointer-events: none;
 }
 .quiz-box .quiz-footer{
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-top: 2px solid violet ;
    padding-top: 18px;
    margin-top: 26px;
    overflow: visible !important;
    /* margin-right: 50px; ; */
 }
 .quiz-footer .question-total{
    font-size: 16px;
    font-weight: 600;

 }
 .next-button {
    display: block !important;
    position: relative;
    width: 90px;
    height: 40px;
    color: whitesmoke;
    font-size: 16px;
    cursor: pointer;
    font-weight: 400;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.1);
    outline: none;
    border-radius: 6px;
    transition: opacity 0.5s ease;
    background-color:rgba(255, 255, 255, 0.1);  /* Temporary: Add this to check visibility */
    z-index: 9999 !important;
    visibility: visible !important;
    opacity: 1 !important;
}

 .next-button:hover{
    background:rgb(156, 29, 156);
    border-color:rgb(156, 29, 156);
} 
.main1 .result-box{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) scale(.9);
  width: 700px;
  background: transparent;
  border: 2px solid rgb(238, 130, 238);
  border-radius: 6px;
  padding: 20px;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 999;
  opacity: 0;
  pointer-events: none;
  transition: .3s ease;
}  
.main1 .result-box.flex{
  opacity: 1;
  pointer-events:auto ;
  transform: translate(-50%, -50%) scale(1);
}
.result-box h2{
  font-size: 50px;
}
.result-box .percentage-container{
   width: 300px;
   /* background: rgb(51, 205, 205); */
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   margin: auto;
}
.percentage-container .circular-progress{
  position: relative;
  width: 250px;
  height: 250px;
  background: conic-gradient(lightblue, 3.6deg, rgba(255, 255, 255, .1) 0deg);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 10px auto;

}
.percentage-container .circular-progress::before{
  content: '';
  position: absolute;
  width: 210px;
  height: 210px;
  background: rgb(14, 58, 170);
  border-radius: 50%;
}
.circular-progress .progress-value{
  position: relative;
  font-size: 45px;
  font-weight: 600;
  justify-content: center;
  align-items: center;
}
.percentage-container .score-text{
  font-size: 26px;
  font-weight: 600;
  margin-top: 20px;
 
  text-align: center;
  align-items: center;
}
.buttons button{
  width: 125px;
  height: 45px;
  background: rgb(176, 65, 161);
  border: solid 2px black;
  border-radius: 5px;
  font-size: 16px;
  color: aliceblue;
  font-weight: 600;
  margin: 0 20px 20px;
  cursor: pointer;
}
.buttons button:hover{
  background: white;
  color: black;
}




    </style>
</head>
<body>
    <section class="main1">
    <div class="quiz-box">
        <h1>Smart Quiz</h1>
        <div class="quiz-header">
          <span>Test your knowledge!</span>
          <span class="header-score">Score: 0/5</span>
        </div>
    <h2 class="question-text">What is the deepest ocean in the world?</h2>
    <div class="option-list">
    <!-- <div class="option">
      <span>A. Indian ocean</span>
    </div>
    <div class="option">
      <span>B. The Pacific ocean</span>
    </div>
    <div class="option">
      <span>C. Dead sea</span>
    </div>
    <div class="option">
      <span>D. Arctic ocean</span>
    </div> -->
  </div>
    <div class="quiz-footer">
      <span class="question-total">1 of 5 Questions</span>
      <button class="next-button">Next</button>
    </div>
   
    
      </div>

      <div class="result-box">
        <h2>Quiz Result!</h2>
        <div class="percentage-container">
          <div class="circular-progress">
             <span class="progress-value">0%</span>
          </div>
          
          <span class="score-text">Your score is 0 out of 5</span>
        </div>
          <div class="buttons">
            <button class="tryAgain-btn">Try again</button>
            <button class="gohome-btn">Go Home</button>
          </div>
        </div>

      
    </section>

    

 <script src="questions1.js"></script>
 <script>


document.addEventListener('DOMContentLoaded', function() {  
  let userScore = 0;
     let questioncount=0;
     const resultBox = document.querySelector('.result-box');
     const quizBox = document.querySelector('.quiz-box');
     const nextBtn=document.querySelector('.next-button');
     const optionList = document.querySelector('.option-list');

     const tryAgain = document.querySelector('.tryAgain-btn');
     const goHome = document.querySelector('.gohome-btn');
     const newPage=document.querySelector('.category');

     console.log("Button display:", nextBtn.style.display); 

     nextBtn.style.display = "block";

     showQuestion(0);
    //  headerScore();
     
nextBtn.onclick = () => {
  if (questioncount < questions.length - 1){
       questioncount++;
       showQuestion(questioncount);
  }else{
    // console.log("Quiz completed");
    showResultBox();
  }

};



function showQuestion(index) {
    
    const questionText = document.querySelector('.question-text');
    const questionTotal = document.querySelector('.question-total');

    questionText.textContent = `${questions[index].num}. ${questions[index].question}`;
    questionTotal.textContent = `${index + 1} of ${questions.length} Questions`; 

    let optionTag = "";
    for (let i = 0; i < questions[index].options.length; i++) {
        optionTag += `<div class="option"><span>${questions[index].options[i]}</span></div>`;
    }

    // Update the option list
    optionList.innerHTML = optionTag;

    const options = document.querySelectorAll('.option');
    // for (let i = 0; i < option.length; i++ ) {
    //     option[i].setAttribute('onclick','optionSelected(this)');
    options.forEach(option => {
        option.addEventListener('click', function() {
             optionSelected(this); // Pass the clicked option to the function
    });
  });
    }



function optionSelected(answer) {
  let userAnswer = answer.textContent;
  let correctAnswer = questions[questioncount].answer;
  let allOptions = optionList.children.length;
  console.log("User Answer:", userAnswer); // Debugging
  console.log("Correct Answer:", correctAnswer); 

  if (userAnswer == correctAnswer) {
    // console.log('answer is right');
    answer.classList.add('correct');
    userScore += 1;
    headerScore();
  }
  else {
    // console.log('wrong');
    answer.classList.add('incorrect');
   }

   for (let i = 0; i < allOptions; i++) {
        optionList.children[i].classList.add('disabled');
   }
 }
 tryAgain.onclick = () => {
    quizBox.style.display = 'block';
    nextBtn.style.display = 'block';
   resultBox.style.display = 'none';
   

   resultBox.classList.remove('flex');

   questioncount=0;
   userScore = 0;
   showQuestion(questioncount);
  
   headerScore();
};

  goHome.onclick = () => {
    window.location.href = "index.html"; // Redirect to the quiz home page
};
  


function headerScore() {
    const headerScoreText = document.querySelector('.header-score');
    headerScoreText.textContent = `Score: ${userScore} / ${questions.length}`;
}            
function showResultBox() {
  quizBox.style.display = 'none';  // Hide quiz box
  resultBox.style.display = 'block';
  resultBox.classList.add('flex');

  const scoreText = document.querySelector('.score-text');
  scoreText.textContent = `Your Score ${userScore} out of ${questions.length}`;

  const circularProgress = document.querySelector('.circular-progress');
  const progressValue = document.querySelector('.progress-value');
  let progressStartValue = -1;
  let progressEndValue = (userScore / questions.length) * 100;
  let speed = 5;

  let progress = setInterval(() => {
    progressStartValue++;
    
    progressValue.textContent = `${progressStartValue}%`;

    circularProgress.style.background = `conic-gradient(lightblue ${progressStartValue * 3.6}deg, rgba(255, 255, 255, .1) 0deg)`;

    if (progressStartValue == progressEndValue) {
      clearInterval(progress);
    }
  }, speed);
}
});//DOM closing

            


</script>


 
</body>
</html>